<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice de salaire pour acupuncteur - Clinique de Physiothérapie Boisbriand</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #ec7209;
            min-height: 100vh;
            color: #333;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .calculator-grid {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .input-row {
                grid-template-columns: 1fr;
            }
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 600;
            color: #34495e;
            font-size: 1rem;
        }

        input {
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .result-input {
            background: #d4edda !important;
            border-color: #28a745 !important;
            font-weight: 600;
            color: #155724;
            cursor: not-allowed;
        }

        #netSalary {
            font-weight: bold !important;
            background-color: #b2ffb2 !important;
            border-color: #28a745 !important;
            color: #155724 !important;
        }

        #adjustedNetSalary {
            font-weight: bold !important;
            background-color: #b2ffb2 !important;
            border-color: #28a745 !important;
            color: #155724 !important;
        }

        .input-with-unit {
            position: relative;
        }

        .input-with-unit input {
            padding-right: 30px;
        }

        .input-with-unit .unit {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: 600;
            pointer-events: none;
        }

        .input-with-percent {
            position: relative;
        }

        .input-with-percent input {
            padding-right: 30px;
        }

        .input-with-percent .unit {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: 600;
            pointer-events: none;
        }

        .info-box {
            background: #184c9a;
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 25px rgba(24, 76, 154, 0.3);
        }

        .info-box h3 {
            margin-top: 0;
            font-size: 1.2rem;
        }

        .charges-info {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }

        .charges-info strong {
            color: #667eea;
        }

        .toggle-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
            width: 100%;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .buttons-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .tarif-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .tarif-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .adjustment-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            width: 100%;
            margin-top: 10px;
        }

        .adjustment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .collapsible-content {
            display: none;
            margin-top: 20px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .formula {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
        }

        .example {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .step {
            margin: 20px 0;
            padding: 20px;
            border-left: 4px solid #184c9a;
            background: #f8f9fa;
        }

        .step h4 {
            color: #184c9a;
            margin-top: 0;
        }

        .tarif-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .tarif-table th,
        .tarif-table td {
            padding: 12px 8px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }

        .tarif-table th {
            background: #184c9a;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .tarif-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .tarif-table tr:hover {
            background: #e3f2fd;
        }

        .tarif-table td {
            font-size: 0.9rem;
        }

        .highlight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box strong {
            color: #856404;
        }

        @media (max-width: 768px) {
            .tarif-table th,
            .tarif-table td {
                padding: 8px 4px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.5rem;
            }

            .buttons-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calculatrice de salaire pour acupuncteur<br>Clinique de Physiothérapie Boisbriand</h1>
        
        <div class="info-box">
            <h3>Comment utiliser cette calculatrice</h3>
            <p>Entrez le montant payé par le client et le pourcentage de profit de la clinique. Les autres valeurs se calculent automatiquement pour vous donner la répartition complète.</p>
        </div>

        <div class="calculator-grid">
            <div class="input-group">
                <label for="clientAmount">Montant payé par le client ($)</label>
                <div class="input-with-unit">
                    <input type="number" id="clientAmount" placeholder="Ex: 85" step="0.01" min="0">
                    <span class="unit">$</span>
                </div>
            </div>

            <div class="input-row">
                <div class="input-group">
                    <label for="profitPercent">Pourcentage de profit de la clinique (%)</label>
                    <div class="input-with-percent">
                        <input type="number" id="profitPercent" placeholder="Ex: 30" step="0.01" min="0" max="100">
                        <span class="unit">%</span>
                    </div>
                </div>

                <div class="input-group">
                    <label for="salaryPercent">Pourcentage du paiement client lié au salaire total (%)</label>
                    <div class="input-with-percent">
                        <input type="number" id="salaryPercent" class="result-input" readonly placeholder="Calculé automatiquement">
                        <span class="unit">%</span>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label for="clinicProfit">Profit de la clinique ($)</label>
                <div class="input-with-unit">
                    <input type="number" id="clinicProfit" class="result-input" readonly placeholder="Calculé automatiquement">
                    <span class="unit">$</span>
                </div>
            </div>

            <div class="input-group">
                <label for="totalSalary">Salaire employé TOTAL (avec charges 24,03%) ($)</label>
                <div class="input-with-unit">
                    <input type="number" id="totalSalary" class="result-input" readonly placeholder="Calculé automatiquement">
                    <span class="unit">$</span>
                </div>
            </div>

            <div class="input-group">
                <label for="netSalary">Salaire employé NET (sans charges) ($)</label>
                <div class="input-with-unit">
                    <input type="number" id="netSalary" class="result-input" readonly placeholder="Calculé automatiquement">
                    <span class="unit">$</span>
                </div>
            </div>
        </div>

        <div class="charges-info">
            <strong>Information sur les charges sociales :</strong><br>
            Le taux de 24,03% représente les charges sociales que l'employeur paie en plus du salaire de base (RRQ, assurance-emploi, CNESST, etc.).
        </div>

        <button class="toggle-btn" id="explanationBtn">Explication des calculs ▼</button>
        <div class="collapsible-content" id="explanationContent">
            <h2>Explication des calculs</h2>

            <div class="step">
                <h4>Étape 1 : Calcul du pourcentage lié au salaire total</h4>
                <p>Le pourcentage du paiement client lié au salaire total de l'employé est calculé en soustrayant le pourcentage de profit de la clinique de 100%.</p>
                <div class="formula">
                    Pourcentage salaire total = 100% - Pourcentage profit clinique
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Pourcentage profit clinique : 30%<br>
                    Pourcentage salaire total = 100% - 30% = <strong>70%</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 2 : Calcul du profit de la clinique</h4>
                <p>Le profit de la clinique est calculé en multipliant le montant payé par le client par le pourcentage de profit défini.</p>
                <div class="formula">
                    Profit de la clinique = Montant client × (Pourcentage profit ÷ 100)
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Client paie : 85,00$<br>
                    Pourcentage profit : 30%<br>
                    Profit clinique = 85,00$ × (30 ÷ 100) = 85,00$ × 0,30 = <strong>25,50$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 3 : Calcul du salaire employé TOTAL (avec charges)</h4>
                <p>Le salaire total de l'employé correspond au montant restant après déduction du profit de la clinique. Ce montant inclut déjà les charges sociales de 24,03%.</p>
                <div class="formula">
                    Salaire employé TOTAL = Montant client - Profit clinique
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Montant client : 85,00$<br>
                    Profit clinique : 25,50$<br>
                    Salaire TOTAL = 85,00$ - 25,50$ = <strong>59,50$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 4 : Calcul du salaire employé NET (sans charges)</h4>
                <p>Le salaire net correspond au montant que l'employé recevra réellement, avant que l'employeur ajoute les charges sociales de 24,03%.</p>
                <div class="formula">
                    Salaire employé NET = Salaire TOTAL ÷ (1 + 24,03%)
                </div>
                <div class="formula">
                    Salaire employé NET = Salaire TOTAL ÷ 1,2403
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Salaire TOTAL : 59,50$<br>
                    Salaire NET = 59,50$ ÷ 1,2403 = <strong>47,97$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Vérification des charges sociales</h4>
                <p>Pour vérifier : Salaire NET × 24,03% = Charges payées par l'employeur</p>
                <div class="example">
                    <strong>Vérification :</strong><br>
                    Salaire NET : 47,97$<br>
                    Charges : 47,97$ × 0,2403 = 11,53$<br>
                    Total : 47,97$ + 11,53$ = 59,50$ ✓
                </div>
            </div>

            <div class="charges-info">
                <strong>À propos des charges sociales de 24,03% :</strong><br>
                Ce pourcentage inclut les contributions de l'employeur au Régime de rentes du Québec (RRQ), à l'assurance-emploi, à la Commission des normes, de l'équité, de la santé et de la sécurité du travail (CNESST), et autres charges sociales obligatoires.
            </div>
        </div>

        <div class="buttons-row">
            <button class="tarif-btn" id="tarifBtn">Grille des tarifs ▼</button>
            <button class="tarif-btn" id="salaireBtn">Salaire à l'employé ▼</button>
        </div>

        <div class="collapsible-content" id="tarifContent">
            <h2>Grille des tarifs</h2>
            <table class="tarif-table">
                <thead>
                    <tr>
                        <th>Année</th>
                        <th>Privé<br>Évaluation</th>
                        <th>SAAQ<br>Évaluation</th>
                        <th>CNESST<br>Évaluation</th>
                        <th>Privé<br>Suivi</th>
                        <th>SAAQ<br>Suivi</th>
                        <th>CNESST<br>Suivi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>2012</td><td>60,00 $</td><td>26,00 $</td><td>27,00 $</td><td>60,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2013</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2014</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2015</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2016</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2017</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td><td>65,00 $</td><td>26,00 $</td><td>27,00 $</td></tr>
                    <tr><td>2018</td><td>70,00 $</td><td>27,00 $</td><td>36,00 $</td><td>70,00 $</td><td>27,00 $</td><td>36,00 $</td></tr>
                    <tr><td>2019</td><td>70,00 $</td><td>27,00 $</td><td>36,00 $</td><td>70,00 $</td><td>27,00 $</td><td>36,00 $</td></tr>
                    <tr><td>2020</td><td>70,00 $</td><td>27,00 $</td><td>54,00 $</td><td>70,00 $</td><td>27,00 $</td><td>54,00 $</td></tr>
                    <tr><td>2021</td><td>70,00 $</td><td>27,00 $</td><td>54,00 $</td><td>70,00 $</td><td>27,00 $</td><td>54,00 $</td></tr>
                    <tr><td>2022</td><td>85,00 $</td><td>54,00 $</td><td>54,00 $</td><td>80,00 $</td><td>54,00 $</td><td>54,00 $</td></tr>
                    <tr><td>2023</td><td>85,00 $</td><td>54,00 $</td><td>55,50 $</td><td>80,00 $</td><td>54,00 $</td><td>55,50 $</td></tr>
                    <tr><td>2024</td><td>85,00 $</td><td>61,00 $</td><td>55,50 $</td><td>80,00 $</td><td>61,00 $</td><td>55,50 $</td></tr>
                    <tr><td>2025</td><td>85,00 $</td><td>63,00 $</td><td>55,50 $</td><td>80,00 $</td><td>63,00 $</td><td>55,50 $</td></tr>
                </tbody>
            </table>
        </div>

        <div class="collapsible-content" id="salaireContent">
            <h2>Salaire à l'employé</h2>
            <table class="tarif-table">
                <thead>
                    <tr>
                        <th>Année</th>
                        <th>Privé<br>Évaluation</th>
                        <th>SAAQ<br>Évaluation</th>
                        <th>CNESST<br>Évaluation</th>
                        <th>Privé<br>Suivi</th>
                        <th>SAAQ<br>Suivi</th>
                        <th>CNESST<br>Suivi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>2012</td><td>30,00 $</td><td>20,00 $</td><td>20,00 $</td><td>27,00 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2013</td><td>34,23 $</td><td>20,00 $</td><td>20,00 $</td><td>31,23 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2014</td><td>34,23 $</td><td>20,00 $</td><td>20,00 $</td><td>31,23 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2015</td><td>34,23 $</td><td>20,00 $</td><td>20,00 $</td><td>31,23 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2016</td><td>34,23 $</td><td>20,00 $</td><td>20,00 $</td><td>31,23 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2017</td><td>34,23 $</td><td>20,00 $</td><td>20,00 $</td><td>31,23 $</td><td>20,00 $</td><td>20,00 $</td></tr>
                    <tr><td>2018</td><td>35,00 $</td><td>30,00 $</td><td>30,00 $</td><td>33,75 $</td><td>20,00 $</td><td>25,00 $</td></tr>
                    <tr><td>2019</td><td>35,00 $</td><td>30,00 $</td><td>30,00 $</td><td>33,75 $</td><td>20,00 $</td><td>25,00 $</td></tr>
                    <tr><td>2020</td><td>35,00 $</td><td>30,00 $</td><td>39,00 $</td><td>33,75 $</td><td>20,00 $</td><td>33,00 $</td></tr>
                    <tr><td>2021</td><td>35,00 $</td><td>30,00 $</td><td>39,00 $</td><td>33,75 $</td><td>20,00 $</td><td>33,00 $</td></tr>
                    <tr><td>2022</td><td>42,50 $</td><td>39,00 $</td><td>39,00 $</td><td>38,40 $</td><td>33,00 $</td><td>33,00 $</td></tr>
                    <tr><td>2023</td><td>42,50 $</td><td>39,00 $</td><td>39,00 $</td><td>38,40 $</td><td>33,00 $</td><td>33,00 $</td></tr>
                    <tr><td>2024</td><td>42,50 $</td><td>39,00 $</td><td>39,00 $</td><td>38,40 $</td><td>33,00 $</td><td>33,00 $</td></tr>
                    <tr><td>2025</td><td>42,50 $</td><td>39,00 $</td><td>39,00 $</td><td>38,40 $</td><td>33,00 $</td><td>33,00 $</td></tr>
                </tbody>
            </table>
        </div>

        <!-- NOUVELLE SECTION : Ajustement salarial -->
        <button class="adjustment-btn" id="adjustmentBtn">Ajustement salarial (changement de tarif) ▼</button>
        <div class="collapsible-content" id="adjustmentContent">
            <h2>Ajustement salarial selon changement de tarif</h2>
            
            <div class="highlight-box">
                <strong>Clause contractuelle :</strong><br>
                "La rémunération doit être ajustée lorsque les tarifs changent aux mêmes pourcentages de la part de l'employé (en incluant les 24,03% d'avantages sociaux) sur le montant payé par le patient."
            </div>

            <div class="calculator-grid">
                <div class="input-row">
                    <div class="input-group">
                        <label for="oldRate">Ancien tarif client ($)</label>
                        <div class="input-with-unit">
                            <input type="number" id="oldRate" placeholder="Ex: 80" step="0.01" min="0">
                            <span class="unit">$</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="newRate">Nouveau tarif client ($)</label>
                        <div class="input-with-unit">
                            <input type="number" id="newRate" placeholder="Ex: 90" step="0.01" min="0">
                            <span class="unit">$</span>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="currentNetSalary">Salaire NET actuel (sans charges) ($)</label>
                    <div class="input-with-unit">
                        <input type="number" id="currentNetSalary" placeholder="Ex: 38.4" step="0.01" min="0">
                        <span class="unit">$</span>
                    </div>
                </div>

                <div class="input-group">
                    <label for="rateChangePercent">Pourcentage de changement de tarif (%)</label>
                    <div class="input-with-percent">
                        <input type="number" id="rateChangePercent" class="result-input" readonly placeholder="Calculé automatiquement">
                        <span class="unit">%</span>
                    </div>
                </div>

                <div class="input-group">
                    <label for="adjustedNetSalary">Nouveau salaire NET (sans charges) ($)</label>
                    <div class="input-with-unit">
                        <input type="number" id="adjustedNetSalary" class="result-input" readonly placeholder="Calculé automatiquement">
                        <span class="unit">$</span>
                    </div>
                </div>

                <div class="input-group">
                    <label for="adjustedTotalSalary">Nouveau salaire TOTAL (avec charges 24,03%) - Ce que l'employeur paie ($)</label>
                    <div class="input-with-unit">
                        <input type="number" id="adjustedTotalSalary" class="result-input" readonly placeholder="Calculé automatiquement">
                        <span class="unit">$</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- NOUVELLE SECTION : Explication ajustement salarial -->
        <button class="adjustment-btn" id="adjustmentExplanationBtn">Explication de l'ajustement salarial ▼</button>
        <div class="collapsible-content" id="adjustmentExplanationContent">
            <h2>Explication du calcul d'ajustement salarial</h2>

            <div class="step">
                <h4>Principe de la clause contractuelle</h4>
                <p>Lorsque les tarifs changent, le salaire de l'employé doit être ajusté proportionnellement au changement de tarif. Le pourcentage d'augmentation (ou de diminution) du tarif s'applique au salaire total de l'employé (qui inclut les 24,03% de charges sociales).</p>
            </div>

            <div class="step">
                <h4>Étape 1 : Calcul du pourcentage de changement de tarif</h4>
                <p>On calcule d'abord le pourcentage de variation entre l'ancien et le nouveau tarif.</p>
                <div class="formula">
                    Pourcentage de changement = ((Nouveau tarif - Ancien tarif) ÷ Ancien tarif) × 100
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Ancien tarif : 80,00$<br>
                    Nouveau tarif : 90,00$<br>
                    Pourcentage = ((90,00 - 80,00) ÷ 80,00) × 100<br>
                    Pourcentage = (10,00 ÷ 80,00) × 100<br>
                    Pourcentage = 0,125 × 100 = <strong>12,50%</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 2 : Calcul du salaire total actuel (avec charges)</h4>
                <p>À partir du salaire NET actuel (sans charges), on calcule le salaire TOTAL qui inclut les charges sociales de 24,03%.</p>
                <div class="formula">
                    Salaire TOTAL actuel = Salaire NET actuel × (1 + 24,03%)
                </div>
                <div class="formula">
                    Salaire TOTAL actuel = Salaire NET actuel × 1,2403
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Salaire NET actuel : 38,40$<br>
                    Salaire TOTAL actuel = 38,40$ × 1,2403 = <strong>47,63$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 3 : Application du pourcentage d'augmentation au salaire total</h4>
                <p>On applique le même pourcentage d'augmentation que celui du tarif au salaire TOTAL de l'employé.</p>
                <div class="formula">
                    Nouveau salaire TOTAL = Salaire TOTAL actuel × (1 + Pourcentage de changement ÷ 100)
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Salaire TOTAL actuel : 47,63$<br>
                    Pourcentage de changement : 12,50%<br>
                    Nouveau salaire TOTAL = 47,63$ × (1 + 12,50 ÷ 100)<br>
                    Nouveau salaire TOTAL = 47,63$ × 1,1250 = <strong>53,58$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Étape 4 : Calcul du nouveau salaire NET (sans charges)</h4>
                <p>Enfin, on retire les charges sociales pour obtenir le nouveau salaire NET que recevra l'employé.</p>
                <div class="formula">
                    Nouveau salaire NET = Nouveau salaire TOTAL ÷ (1 + 24,03%)
                </div>
                <div class="formula">
                    Nouveau salaire NET = Nouveau salaire TOTAL ÷ 1,2403
                </div>
                <div class="example">
                    <strong>Exemple :</strong><br>
                    Nouveau salaire TOTAL : 53,58$<br>
                    Nouveau salaire NET = 53,58$ ÷ 1,2403 = <strong>43,20$</strong>
                </div>
            </div>

            <div class="step">
                <h4>Résumé de l'exemple complet</h4>
                <div class="example">
                    <strong>Situation :</strong><br>
                    • Ancien tarif client : 80,00$<br>
                    • Nouveau tarif client : 90,00$<br>
                    • Salaire NET actuel : 38,40$<br>
                    <br>
                    <strong>Résultats :</strong><br>
                    • Augmentation du tarif : +12,50%<br>
                    • Nouveau salaire NET : 43,20$ (soit une augmentation de 4,80$)<br>
                    • Nouveau salaire TOTAL (ce que l'employeur paie) : 53,58$<br>
                    • Augmentation du salaire NET : +12,50% (même pourcentage que le tarif)
                </div>
            </div>

            <div class="charges-info">
                <strong>Note importante :</strong><br>
                Cette méthode garantit que l'employé bénéficie exactement du même pourcentage d'augmentation que l'augmentation du tarif, conformément à la clause contractuelle. Les charges sociales de 24,03% sont prises en compte dans le calcul pour assurer l'équité.
            </div>
        </div>
    </div>

    <script>
        const CHARGES_RATE = 0.2403; // 24,03%

        // Calculatrice principale
        function calculateValues() {
            const clientAmount = parseFloat(document.getElementById('clientAmount').value) || 0;
            const profitPercent = parseFloat(document.getElementById('profitPercent').value) || 0;

            const salaryPercent = 100 - profitPercent;
            const clinicProfit = clientAmount * (profitPercent / 100);
            const totalSalary = clientAmount - clinicProfit;
            const netSalary = totalSalary / (1 + CHARGES_RATE);

            document.getElementById('salaryPercent').value = salaryPercent.toFixed(2);
            document.getElementById('clinicProfit').value = clinicProfit.toFixed(2);
            document.getElementById('totalSalary').value = totalSalary.toFixed(2);
            document.getElementById('netSalary').value = netSalary.toFixed(2);
        }

        // Calculatrice d'ajustement salarial
        function calculateAdjustment() {
            const oldRate = parseFloat(document.getElementById('oldRate').value) || 0;
            const newRate = parseFloat(document.getElementById('newRate').value) || 0;
            const currentNetSalary = parseFloat(document.getElementById('currentNetSalary').value) || 0;

            if (oldRate === 0) {
                document.getElementById('rateChangePercent').value = '';
                document.getElementById('adjustedNetSalary').value = '';
                return;
            }

            // Calcul du pourcentage de changement
            const rateChangePercent = ((newRate - oldRate) / oldRate) * 100;

            // Calcul du salaire total actuel (avec charges)
            const currentTotalSalary = currentNetSalary * (1 + CHARGES_RATE);

            // Application du pourcentage au salaire total
            const newTotalSalary = currentTotalSalary * (1 + rateChangePercent / 100);

            // Calcul du nouveau salaire net
            const adjustedNetSalary = newTotalSalary / (1 + CHARGES_RATE);

            document.getElementById('rateChangePercent').value = rateChangePercent.toFixed(2);
            document.getElementById('adjustedNetSalary').value = adjustedNetSalary.toFixed(2);
        }

        // Fonction pour basculer l'affichage des sections
        function toggleContent(buttonId, contentId) {
            const button = document.getElementById(buttonId);
            const content = document.getElementById(contentId);
            
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                button.textContent = button.textContent.replace('▼', '▲');
            } else {
                content.style.display = 'none';
                button.textContent = button.textContent.replace('▲', '▼');
            }
        }

        // Écouteurs d'événements pour la calculatrice principale
        document.getElementById('clientAmount').addEventListener('input', calculateValues);
        document.getElementById('profitPercent').addEventListener('input', calculateValues);

        // Écouteurs d'événements pour la calculatrice d'ajustement
        document.getElementById('oldRate').addEventListener('input', calculateAdjustment);
        document.getElementById('newRate').addEventListener('input', calculateAdjustment);
        document.getElementById('currentNetSalary').addEventListener('input', calculateAdjustment);

        // Écouteurs d'événements pour les boutons
        document.getElementById('explanationBtn').addEventListener('click', function() {
            toggleContent('explanationBtn', 'explanationContent');
        });

        document.getElementById('tarifBtn').addEventListener('click', function() {
            toggleContent('tarifBtn', 'tarifContent');
        });

        document.getElementById('salaireBtn').addEventListener('click', function() {
            toggleContent('salaireBtn', 'salaireContent');
        });

        document.getElementById('adjustmentBtn').addEventListener('click', function() {
            toggleContent('adjustmentBtn', 'adjustmentContent');
        });

        document.getElementById('adjustmentExplanationBtn').addEventListener('click', function() {
            toggleContent('adjustmentExplanationBtn', 'adjustmentExplanationContent');
        });

        // Calcul initial
        calculateValues();
    </script>
</body>
</html>
